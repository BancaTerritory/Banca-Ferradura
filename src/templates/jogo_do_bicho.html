{% extends "base.html" %}

{% block title %}Jogo do Bicho - Banca Ferradura{% endblock %}

{% block content %}
<style>
.lottery-container {
  max-width: 400px;
  margin: 0 auto;
  background: #f5f5f5;
  min-height: 100vh;
  position: relative;
  font-family: Arial, sans-serif;
}

.screen {
  display: none;
  width: 100%;
  height: 100vh;
  background: #f5f5f5;
}

.screen.active {
  display: block;
}

.header {
  background: #6c757d;
  color: white;
  padding: 15px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.back-btn {
  background: none;
  border: none;
  color: white;
  font-size: 18px;
  cursor: pointer;
}

.header h1 {
  margin: 0;
  font-size: 18px;
  font-weight: normal;
}

.header-icons {
  display: flex;
  gap: 15px;
}

.content {
  padding: 20px;
}

.option-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
  align-items: center;
}

.option-item {
  display: flex;
  align-items: center;
  gap: 15px;
  background: white;
  padding: 15px 20px;
  border-radius: 8px;
  cursor: pointer;
  width: 80%;
  max-width: 300px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: transform 0.2s;
  color: #333 !important;
}

.option-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.option-icon {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  color: white;
}

.option-icon.green { background: #28a745; }
.option-icon.yellow { background: #ffc107; }
.option-icon.purple { background: #6f42c1; }
.option-icon.pink { background: #e83e8c; }
.option-icon.orange { background: #fd7e14; }

.option-text {
  font-weight: 500;
  color: #333 !important;
}

.date-item {
  display: flex;
  align-items: center;
  gap: 15px;
  background: white;
  padding: 15px 20px;
  border-radius: 8px;
  cursor: pointer;
  width: 80%;
  max-width: 300px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: transform 0.2s;
}

.date-item:hover {
  transform: translateY(-2px);
}

.date-icon {
  font-size: 20px;
  color: #6c757d;
}

.date-text {
  flex: 1;
}

.date-main {
  font-weight: 500;
  color: #333 !important;
}

.date-sub {
  font-size: 14px;
  color: #666 !important;
}

.modalidade-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: white;
  padding: 15px 20px;
  border-radius: 8px;
  cursor: pointer;
  width: 80%;
  max-width: 300px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: transform 0.2s;
  margin-bottom: 10px;
}

.modalidade-item:hover {
  transform: translateY(-2px);
}

.modalidade-text {
  font-weight: 500;
  color: #333 !important;
}

.modalidade-tag {
  background: #28a745;
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
}

.colocacao-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: white;
  padding: 15px 20px;
  border-radius: 8px;
  cursor: pointer;
  width: 80%;
  max-width: 300px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: transform 0.2s;
  margin-bottom: 10px;
}

.colocacao-item:hover {
  transform: translateY(-2px);
}

.colocacao-text {
  font-weight: 500;
  color: #333 !important;
}

.colocacao-tag {
  background: #28a745;
  color: white;
  padding: 4px 12px;
  border-radius: 4px;
  font-size: 12px;
}

.valor-form {
  background: white;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  margin-bottom: 20px;
}

.form-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 15px;
}

.form-title {
  font-weight: bold;
  color: #333 !important;
}

.form-date {
  color: #666 !important;
  font-size: 14px;
}

.form-group {
  margin-bottom: 15px;
}

.form-label {
  display: block;
  margin-bottom: 5px;
  color: #333 !important;
  font-weight: 500;
}

.form-input {
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
}

.valor-buttons {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
}

.valor-btn {
  background: #f8f9fa;
  border: 1px solid #ddd;
  padding: 8px 12px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  color: #333 !important;
}

.valor-btn:hover {
  background: #e9ecef;
}

.action-buttons {
  display: flex;
  gap: 10px;
}

.btn-todos, .btn-cada {
  flex: 1;
  background: #8d6e63;
  color: white;
  border: none;
  padding: 12px;
  border-radius: 4px;
  cursor: pointer;
  font-weight: 500;
}

.btn-continuar {
  width: 100%;
  background: #6c757d;
  color: white;
  border: none;
  padding: 15px;
  border-radius: 4px;
  cursor: pointer;
  font-weight: 500;
  margin-top: 10px;
}

.loteria-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: white;
  padding: 15px 20px;
  border-radius: 8px;
  cursor: pointer;
  width: 80%;
  max-width: 300px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: transform 0.2s;
  margin-bottom: 10px;
}

.loteria-item:hover {
  transform: translateY(-2px);
}

.loteria-text {
  font-weight: 500;
  color: #333 !important;
}

.loteria-counter {
  background: #6c757d;
  color: white;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
}

.horario-item {
  display: flex;
  align-items: center;
  gap: 15px;
  background: white;
  padding: 15px 20px;
  border-radius: 8px;
  cursor: pointer;
  width: 80%;
  max-width: 300px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: transform 0.2s;
  margin-bottom: 10px;
}

.horario-item:hover {
  transform: translateY(-2px);
}

.horario-radio {
  width: 20px;
  height: 20px;
}

.horario-text {
  flex: 1;
  font-weight: 500;
  color: #333 !important;
}

.horario-time {
  color: #666 !important;
  font-size: 14px;
}

.btn-avancar {
  width: 80%;
  max-width: 300px;
  background: #8d6e63;
  color: white;
  border: none;
  padding: 15px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 500;
  margin: 20px auto;
  display: block;
}

.resumo-container {
  background: white;
  margin: 20px;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.resumo-header {
  background: #6c757d;
  color: white;
  padding: 15px;
  text-align: center;
}

.resumo-content {
  padding: 20px;
}

.resumo-section {
  margin-bottom: 15px;
  padding-bottom: 15px;
  border-bottom: 1px dashed #ddd;
}

.resumo-section:last-child {
  border-bottom: none;
  margin-bottom: 0;
}

.resumo-label {
  font-weight: bold;
  color: #333 !important;
  margin-bottom: 5px;
}

.resumo-value {
  color: #666 !important;
}

.resumo-total {
  background: #f8f9fa;
  padding: 15px;
  margin: 0 -20px -20px -20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.resumo-buttons {
  display: flex;
  gap: 10px;
  margin: 20px;
}

.btn-voltar {
  flex: 1;
  background: #8d6e63;
  color: white;
  border: none;
  padding: 15px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 500;
}

.btn-finalizar {
  flex: 1;
  background: #6c757d;
  color: white;
  border: none;
  padding: 15px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 500;
}

.success-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.5);
  z-index: 1000;
  align-items: center;
  justify-content: center;
}

.success-content {
  background: white;
  padding: 30px;
  border-radius: 8px;
  text-align: center;
  max-width: 300px;
  margin: 20px;
}

.success-icon {
  font-size: 48px;
  color: #28a745;
  margin-bottom: 15px;
}

.success-text {
  font-size: 18px;
  font-weight: 500;
  color: #333 !important;
  margin-bottom: 20px;
}

.btn-fechar {
  background: #8d6e63;
  color: white;
  border: none;
  padding: 12px 30px;
  border-radius: 4px;
  cursor: pointer;
  font-weight: 500;
}
</style>

<div class="lottery-container">
  <!-- Tela 1: Sele√ß√£o de Modalidades -->
  <div class="screen active" id="screen-modalidades">
    <div class="header">
      <button class="back-btn" onclick="goBack()">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1>Nova aposta</h1>
      <div class="header-icons">
        <i class="fas fa-eye"></i>
        <i class="fas fa-bars"></i>
      </div>
    </div>
    
    <div class="content">
      <div class="option-list">
        <div class="option-item" onclick="selectModalidade('tradicional')">
          <div class="option-icon green">üçÄ</div>
          <span class="option-text">TRADICIONAL</span>
        </div>
        <div class="option-item" onclick="selectModalidade('tradicional-1-10')">
          <div class="option-icon green">üçÄ</div>
          <span class="option-text">TRADICIONAL 1/10</span>
        </div>
        <div class="option-item" onclick="selectModalidade('uruguaia')">
          <div class="option-icon yellow">‚≠ê</div>
          <span class="option-text">LOT. URUGUAIA</span>
        </div>
        <div class="option-item" onclick="selectModalidade('quininha')">
          <div class="option-icon purple">üíú</div>
          <span class="option-text">QUININHA</span>
        </div>
        <div class="option-item" onclick="selectModalidade('seninha')">
          <div class="option-icon pink">üíñ</div>
          <span class="option-text">SENINHA</span>
        </div>
        <div class="option-item" onclick="selectModalidade('super15')">
          <div class="option-icon orange">üß°</div>
          <span class="option-text">SUPER15</span>
        </div>
        <div class="option-item" onclick="selectModalidade('repetir-pule')">
          <div class="option-icon green">üíö</div>
          <span class="option-text">REPETIR PULE</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Tela 2: Sele√ß√£o de Data -->
  <div class="screen" id="screen-data">
    <div class="header">
      <button class="back-btn" onclick="goBack()">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1>Data</h1>
      <div class="header-icons">
        <i class="fas fa-eye"></i>
        <i class="fas fa-bars"></i>
      </div>
    </div>
    
    <div class="content">
      <div class="option-list">
        <div class="date-item" onclick="selectData('04/07/2025')">
          <div class="date-icon">üìÖ</div>
          <div class="date-text">
            <div class="date-main">04/07/2025</div>
            <div class="date-sub">Hoje</div>
          </div>
        </div>
        <div class="date-item" onclick="selectData('05/07/2025')">
          <div class="date-icon">üìÖ</div>
          <div class="date-text">
            <div class="date-main">05/07/2025</div>
            <div class="date-sub">S√°bado</div>
          </div>
        </div>
        <div class="date-item" onclick="selectData('06/07/2025')">
          <div class="date-icon">üìÖ</div>
          <div class="date-text">
            <div class="date-main">06/07/2025</div>
            <div class="date-sub">Domingo</div>
          </div>
        </div>
        <div class="date-item" onclick="selectData('07/07/2025')">
          <div class="date-icon">üìÖ</div>
          <div class="date-text">
            <div class="date-main">07/07/2025</div>
            <div class="date-sub">Segunda</div>
          </div>
        </div>
        <div class="date-item" onclick="selectData('08/07/2025')">
          <div class="date-icon">üìÖ</div>
          <div class="date-text">
            <div class="date-main">08/07/2025</div>
            <div class="date-sub">Ter√ßa</div>
          </div>
        </div>
        <div class="date-item" onclick="selectData('09/07/2025')">
          <div class="date-icon">üìÖ</div>
          <div class="date-text">
            <div class="date-main">09/07/2025</div>
            <div class="date-sub">Quarta</div>
          </div>
        </div>
        <div class="date-item" onclick="selectData('10/07/2025')">
          <div class="date-icon">üìÖ</div>
          <div class="date-text">
            <div class="date-main">10/07/2025</div>
            <div class="date-sub">Quinta</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Tela 3: Modalidade de Jogo -->
  <div class="screen" id="screen-modalidade-jogo">
    <div class="header">
      <button class="back-btn" onclick="goBack()">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1>Modalidade</h1>
      <div class="header-icons">
        <i class="fas fa-eye"></i>
        <i class="fas fa-bars"></i>
      </div>
    </div>
    
   <div class="modalidade-item" onclick="selectModalidadeJogo(\'milhar\')">
          <span class="modalidade-text">MILHAR</span>
          <span class="modalidade-tag">4 n√∫meros</span>
        </div>
        <div class="modalidade-item" onclick="selectModalidadeJogo(\'centena\')">
          <span class="modalidade-text">CENTENA</span>
          <span class="modalidade-tag">3 n√∫meros</span>
        </div>
        <div class="modalidade-item" onclick="selectModalidadeJogo(\'dezena\')">
          <span class="modalidade-text">DEZENA</span>
          <span class="modalidade-tag">2 n√∫meros</span>
        </div>
        <div class="modalidade-item" onclick="selectModalidadeJogo(\'grupo\')">
          <span class="modalidade-text">GRUPO</span>
          <span class="modalidade-tag">1 animal</span>
        </div>
        <div class="modalidade-item" onclick="selectModalidadeJogo(\'milhar-centena\')">
          <span class="modalidade-text">MILHAR E CENTENA</span>
          <span class="modalidade-tag">4 e 3 n√∫meros</span>
        </div>
        <div class="modalidade-item" onclick="selectModalidadeJogo(\'centena-combinada\')">
          <span class="modalidade-text">CENTENA COMBINADA</span>
          <span class="modalidade-tag">3 n√∫meros</span>
        </div>
        <div class="modalidade-item" onclick="selectModalidadeJogo(\'milhar-combinada\')">
          <span class="modalidade-text">MILHAR COMBINADA</span>
          <span class="modalidade-tag">4 n√∫meros</span>
        </div>
        <div class="modalidade-item" onclick="selectModalidadeJogo(\'dupla-grupo\')">
          <span class="modalidade-text">DUPLA DE GRUPO</span>
          <span class="modalidade-tag">2 grupos</span>
        </div>
        <div class="modalidade-item" onclick="selectModalidadeJogo(\'dupla-dezena\')">
          <span class="modalidade-text">DUPLA DE DEZENA</span>
          <span class="modalidade-tag">2 dezenas</span>
        </div>
        <div class="modalidade-item" onclick="selectModalidadeJogo(\'terno-grupo\')">
          <span class="modalidade-text">TERNO DE GRUPO</span>
          <span class="modalidade-tag">3 grupos</span>
        </div>
        <div class="modalidade-item" onclick="selectModalidadeJogo(\'terno-dezena\')">
          <span class="modalidade-text">TERNO DE DEZENA</span>
          <span class="modalidade-tag">3 dezenas</span>
        </div>
        <div class="modalidade-item" onclick="selectModalidadeJogo(\'milhar-centena-combinado\')">
          <span class="modalidade-text">MILHAR E CENTENA COMBINADO</span>
          <span class="modalidade-tag">4 e 3 n√∫meros</span>
        </div>
          <span class="modalidade-tag">1 animal</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Tela 4: Coloca√ß√£o -->
  <div class="screen" id="screen-colocacao">
    <div class="header">
      <button class="back-btn" onclick="goBack()">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1>Coloca√ß√£o</h1>
      <div class="header-icons">
        <i class="fas fa-eye"></i>
        <i class="fas fa-bars"></i>
      </div>
    </div>
    
    <div class="content">
      <div class="option-list">
        <div class="colocacao-item" onclick="selectColocacao('1-premio')">
          <span class="colocacao-text">1 PR√äMIO</span>
          <span class="colocacao-tag">Maior pr√™mio</span>
        </div>
        <div class="colocacao-item" onclick="selectColocacao('1-5-premio')">
          <span class="colocacao-text">1/5 PR√äMIO</span>
          <span class="colocacao-tag">5x mais chances</span>
        </div>
        <div class="colocacao-item" onclick="selectColocacao('1-e-1-5-premio')">
          <span class="colocacao-text">1 E 1/5 PR√äMIO</span>
          <span class="colocacao-tag">Combinado</span>
        </div>
        <div class="colocacao-item" onclick="selectColocacao('2-premio')">
          <span class="colocacao-text">2 PR√äMIO</span>
          <span class="colocacao-tag">2¬∫ lugar</span>
        </div>
        <div class="colocacao-item" onclick="selectColocacao('3-premio')">
          <span class="colocacao-text">3 PR√äMIO</span>
          <span class="colocacao-tag">3¬∫ lugar</span>
        </div>
        <div class="colocacao-item" onclick="selectColocacao('4-premio')">
          <span class="colocacao-text">4 PR√äMIO</span>
          <span class="colocacao-tag">4¬∫ lugar</span>
        </div>
        <div class="colocacao-item" onclick="selectColocacao('5-premio')">
          <span class="colocacao-text">5 PR√äMIO</span>
          <span class="colocacao-tag">5¬∫ lugar</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Tela 5: Valor/Aposta -->
  <div class="screen" id="screen-valor">
    <div class="header">
      <button class="back-btn" onclick="goBack()">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1>Valor</h1>
      <div class="header-icons">
        <i class="fas fa-eye"></i>
        <i class="fas fa-bars"></i>
      </div>
    </div>
    
    <div class="content">
      <div class="valor-form">
        <div class="form-header">
          <div class="form-title" id="valor-title">MILHAR E CT</div>
          <div class="form-date" id="valor-date">Hoje 04/07/2025</div>
        </div>
        
        <div class="form-group">
          <label class="form-label">Meus Palpites:</label>
          <input type="text" class="form-input" id="palpites-input" placeholder="Digite os n√∫meros">
        </div>
        
        <div class="form-group">
          <input type="text" class="form-input" id="valor-input" placeholder="R$5,00">
          <div class="valor-buttons">
            <button class="valor-btn" onclick="addValor(5)">+5</button>
            <button class="valor-btn" onclick="addValor(20)">+20</button>
            <button class="valor-btn" onclick="addValor(50)">+50</button>
            <button class="valor-btn" onclick="addValor(100)">+100</button>
          </div>
        </div>
        
        <div class="action-buttons">
          <button class="btn-todos">Todos</button>
          <button class="btn-cada">Cada</button>
        </div>
        
        <button class="btn-continuar" onclick="goToLoterias()">Continuar</button>
      </div>
    </div>
  </div>

  <!-- Tela 6: Loterias -->
  <div class="screen" id="screen-loterias">
    <div class="header">
      <button class="back-btn" onclick="goBack()">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1>Loterias</h1>
      <div class="header-icons">
        <i class="fas fa-eye"></i>
        <i class="fas fa-bars"></i>
      </div>
    </div>
    
    <div class="content">
      <div class="option-list">
        <div class="loteria-item" onclick="selectLoteria('rio-federal')">
          <span class="loteria-text">RIO/FEDERAL</span>
          <span class="loteria-counter">0</span>
        </div>
        <div class="loteria-item" onclick="selectLoteria('maluquinha')">
          <span class="loteria-text">MALUQUINHA</span>
          <span class="loteria-counter">0</span>
        </div>
        <div class="loteria-item" onclick="selectLoteria('lotece-lotep')">
          <span class="loteria-text">LOTECE/LOTEP</span>
          <span class="loteria-counter">0</span>
        </div>
        <div class="loteria-item" onclick="selectLoteria('sao-paulo')">
          <span class="loteria-text">SAO-PAULO</span>
          <span class="loteria-counter">0</span>
        </div>
        <div class="loteria-item" onclick="selectLoteria('capital')">
          <span class="loteria-text">CAPITAL</span>
          <span class="loteria-counter">0</span>
        </div>
        <div class="loteria-item" onclick="selectLoteria('look-goias')">
          <span class="loteria-text">LOOK/GOIAS</span>
          <span class="loteria-counter">0</span>
        </div>
        <div class="loteria-item" onclick="selectLoteria('sorte')">
          <span class="loteria-text">SORTE</span>
          <span class="loteria-counter">0</span>
        </div>
        <div class="loteria-item" onclick="selectLoteria('bahia')">
          <span class="loteria-text">BAHIA</span>
          <span class="loteria-counter">0</span>
        </div>
        <div class="loteria-item" onclick="selectLoteria('minas-gerais')">
          <span class="loteria-text">MINAS GERAIS</span>
          <span class="loteria-counter">0</span>
        </div>
        <div class="loteria-item" onclick="selectLoteria('nacional')">
          <span class="loteria-text">NACIONAL</span>
          <span class="loteria-counter">0</span>
        </div>
      </div>
      
      <button class="btn-avancar" onclick="goToHorarios()">Avan√ßar</button>
    </div>
  </div>

  <!-- Tela 7: Hor√°rios Espec√≠ficos -->
  <div class="screen" id="screen-horarios">
    <div class="header">
      <button class="back-btn" onclick="goBack()">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1 id="horarios-title">Loterias</h1>
      <div class="header-icons">
        <i class="fas fa-eye"></i>
        <i class="fas fa-bars"></i>
      </div>
    </div>
    
    <div class="content">
      <div class="option-list" id="horarios-list">
        <!-- Hor√°rios ser√£o inseridos dinamicamente -->
        <div class="horario-item" onclick="selectHorario(\'09:00\')">
          <input type="radio" name="horario" class="horario-radio" value="09:00">
          <span class="horario-text">09:00</span>
          <span class="horario-time">LT PT RIO</span>
        </div>
        <div class="horario-item" onclick="selectHorario(\'11:00\')">
          <input type="radio" name="horario" class="horario-radio" value="11:00">
          <span class="horario-text">11:00</span>
          <span class="horario-time">LT PT RIO</span>
        </div>
        <div class="horario-item" onclick="selectHorario(\'18:00\')">
          <input type="radio" name="horario" class="horario-radio" value="18:00">
          <span class="horario-text">18:00</span>
          <span class="horario-time">LT PT RIO</span>
        </div>
      </div>
      
      <button class="btn-avancar" onclick="goToFinalizar()">Avan√ßar</button>
    </div>
  </div>

  <!-- Tela 8: Finalizar -->
  <div class="screen" id="screen-finalizar">
    <div class="header">
      <button class="back-btn" onclick="goBack()">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1>Finalizar</h1>
      <div class="header-icons">
        <i class="fas fa-eye"></i>
        <i class="fas fa-bars"></i>
      </div>
    </div>
    
    <div class="resumo-container">
      <div class="resumo-header">
        <div>VENDEDOR: 620500</div>
        <div id="resumo-datetime">04/07/25 12:11:16</div>
      </div>
      
      <div class="resumo-content">
        <div class="resumo-section">
          <div class="resumo-label">VALE</div>
          <div class="resumo-value" id="resumo-data">04/07/2025</div>
          <div class="resumo-value" id="resumo-colocacao">8M/800C</div>
        </div>
        
        <div class="resumo-section">
          <div class="resumo-value" id="resumo-loteria">LT PT RIO 14HS</div>
        </div>
        
        <div class="resumo-section">
          <div class="resumo-value" id="resumo-modalidade-premio">MILHAR E CT 1/5 PR√äMIO</div>
          <div class="resumo-value" id="resumo-palpites">5068</div>
          <div class="resumo-value" id="resumo-valor-cada">> 10,00 / CADA</div>
        </div>
        
        <div class="resumo-section">
          <div class="resumo-value" id="resumo-modalidade-brinde">MILHAR BRINDE! 1 PR√äMIO</div>
          <div class="resumo-value" id="resumo-palpites-brinde">5068</div>
        </div>
      </div>
      
      <div class="resumo-total">
        <div>
          <div class="resumo-label">TOTAL JOGO:</div>
          <div class="resumo-label">A PAGAR</div>
        </div>
        <div>
          <div class="resumo-value" id="resumo-total-jogo">R$ 10,00</div>
          <div class="resumo-value" id="resumo-total-pagar">R$ 10,00</div>
        </div>
      </div>
    </div>
    
    <div class="resumo-buttons">
      <button class="btn-voltar" onclick="goBack()">Voltar as apostas</button>
      <button class="btn-finalizar" onclick="finalizarAposta()">Finalizar</button>
    </div>
  </div>

  <!-- Modal de Sucesso -->
  <div class="success-modal" id="success-modal">
    <div class="success-content">
      <div class="success-icon">‚úÖ</div>
      <div class="success-text">Aposta Realizada com sucesso</div>
      <button class="btn-fechar" onclick="novaAposta()">Fechar</button>
    </div>
  </div>
</div>

<script>
  const appState = {
    screenHistory: ["screen-modalidades"], // Hist√≥rico de telas para o bot√£o voltar
    currentScreen: "screen-modalidades",
    selectedModalidade: null,
    selectedDate: null,
    selectedModalidadeJogo: null,
    selectedColocacao: null,
    palpites: "",
    valor: 0,
    loterias: [],
    selectedHorarios: [],
    resumo: {
      vendedor: "620500",
      dataHora: "",
      cotacao: "8M/800C",
      loteriaNome: "",
      modalidadeColocacao: "",
      palpitesResumo: "",
      valorTotal: 0
    }
  };

  const loteriaHorarios = {
    "rio-federal": [
      { time: "09:00", name: "LT PT RIO" },
      { time: "11:00", name: "LT PT RIO" },
      { time: "14:00", name: "LT PT RIO" },
      { time: "16:00", name: "LT PT RIO" },
      { time: "18:00", name: "LT PT RIO" },
      { time: "21:00", name: "LT PT RIO" }
    ],
    "maluquinha": [
      { time: "10:00", name: "MALUQUINHA" },
      { time: "15:00", name: "MALUQUINHA" }
    ],
    "lotece-lotep": [
      { time: "13:00", name: "LOTECE/LOTEP" },
      { time: "19:00", name: "LOTECE/LOTEP" }
    ],
    "sao-paulo": [
      { time: "12:00", name: "SAO-PAULO" },
      { time: "17:00", name: "SAO-PAULO" }
    ],
    "capital": [
      { time: "10:00", name: "CAPITAL" },
      { time: "14:00", name: "CAPITAL" }
    ],
    "look-goias": [
      { time: "11:00", name: "LOOK/GOIAS" },
      { time: "16:00", name: "LOOK/GOIAS" }
    ],
    "sorte": [
      { time: "12:00", name: "SORTE" },
      { time: "18:00", name: "SORTE" }
    ],
    "bahia": [
      { time: "13:00", name: "BAHIA" },
      { time: "20:00", name: "BAHIA" }
    ],
    "minas-gerais": [
      { time: "09:00", name: "MINAS GERAIS" },
      { time: "17:00", name: "MINAS GERAIS" }
    ],
    "nacional": [
      { time: "10:00", name: "NACIONAL" },
      { time: "19:00", name: "NACIONAL" }
    ]
  };

  function showScreen(screenId) {
    document.querySelectorAll('.screen').forEach(screen => {
      screen.classList.remove('active');
    });
    document.getElementById(screenId).classList.add('active');
    appState.currentScreen = screenId;
  }

  function goToScreen(screenId) {
    appState.screenHistory.push(screenId);
    showScreen(screenId);
  }

  function goBack() {
    if (appState.screenHistory.length > 1) {
      appState.screenHistory.pop();
      showScreen(appState.screenHistory[appState.screenHistory.length - 1]);
    } else {
      // Se n√£o houver hist√≥rico, volta para a p√°gina anterior do navegador ou home
      window.history.back(); 
    }
  }

  function selectModalidade(modalidade) {
    appState.selectedModalidade = modalidade;
    goToScreen('screen-data');
  }

  function selectData(date) {
    appState.selectedDate = date;
    goToScreen('screen-modalidade-jogo');
  }

  function selectModalidadeJogo(modalidadeJogo) {
    appState.selectedModalidadeJogo = modalidadeJogo;
    document.getElementById('valor-title').textContent = modalidadeJogo.toUpperCase().replace(/-/g, ' ');
    goToScreen('screen-colocacao');
  }

  function selectColocacao(colocacao) {
    appState.selectedColocacao = colocacao;
    document.getElementById('valor-date').textContent = `${appState.selectedDate}`;
    goToScreen('screen-valor');
  }

  function addValor(value) {
    let currentValor = parseFloat(document.getElementById('valor-input').value.replace('R$', '').replace(',', '.')) || 0;
    currentValor += value;
    document.getElementById('valor-input').value = `R$${currentValor.toFixed(2).replace('.', ',')}`;
    appState.valor = currentValor;
  }

  function goToLoterias() {
    appState.palpites = document.getElementById('palpites-input').value;
    appState.valor = parseFloat(document.getElementById('valor-input').value.replace('R$', '').replace(',', '.')) || 0;
    goToScreen('screen-loterias');
  }

  function selectLoteria(loteria) {
    const index = appState.loterias.indexOf(loteria);
    if (index > -1) {
      appState.loterias.splice(index, 1);
    } else {
      appState.loterias.push(loteria);
    }
    updateLoteriaCounters();
  }

  function updateLoteriaCounters() {
    document.querySelectorAll('.loteria-item').forEach(item => {
      const loteriaId = item.onclick.toString().match(/selectLoteria\(\'([^\']+)\'\)/)[1];
      const counter = item.querySelector('.loteria-counter');
      if (counter) {
        counter.textContent = appState.loterias.includes(loteriaId) ? '1' : '0';
      }
    });
  }

  function goToHorarios() {
    if (appState.loterias.length === 0) {
      alert('Por favor, selecione pelo menos uma loteria.');
      return;
    }
    const horariosList = document.getElementById('horarios-list');
    horariosList.innerHTML = ''; // Limpa hor√°rios anteriores
    appState.selectedHorarios = []; // Limpa sele√ß√£o anterior

    appState.loterias.forEach(loteriaKey => {
      const horarios = loteriaHorarios[loteriaKey];
      if (horarios) {
        horarios.forEach(horario => {
          const div = document.createElement('div');
          div.className = 'horario-item';
          div.onclick = () => selectHorario(horario.time, loteriaKey);
          div.innerHTML = `
            <input type="radio" name="horario-${loteriaKey}" class="horario-radio" value="${horario.time}">
            <span class="horario-text">${horario.time}</span>
            <span class="horario-time">${horario.name}</span>
          `;
          horariosList.appendChild(div);
        });
      }
    });
    goToScreen('screen-horarios');
  }

  function selectHorario(time, loteriaKey) {
    // L√≥gica para selecionar m√∫ltiplos hor√°rios se necess√°rio, ou apenas um por loteria
    // Por enquanto, vamos considerar que seleciona um por loteria
    const existingIndex = appState.selectedHorarios.findIndex(h => h.loteriaKey === loteriaKey);
    if (existingIndex > -1) {
      appState.selectedHorarios[existingIndex] = { time, loteriaKey };
    } else {
      appState.selectedHorarios.push({ time, loteriaKey });
    }
    console.log('Hor√°rio selecionado:', appState.selectedHorarios);
  }

  function goToFinalizar() {
    if (appState.selectedHorarios.length === 0) {
      alert('Por favor, selecione pelo menos um hor√°rio.');
      return;
    }

    // Preencher resumo
    const now = new Date();
    appState.resumo.dataHora = `${now.toLocaleDateString('pt-BR')} ${now.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' })}`;
    
    appState.resumo.loteriaNome = appState.loterias.map(key => {
      const loteriaNames = {
        "rio-federal": "LT PT RIO",
        "maluquinha": "MALUQUINHA",
        "lotece-lotep": "LOTECE/LOTEP",
        "sao-paulo": "SAO-PAULO",
        "capital": "CAPITAL",
        "look-goias": "LOOK/GOIAS",
        "sorte": "SORTE",
        "bahia": "BAHIA",
        "minas-gerais": "MINAS GERAIS",
        "nacional": "NACIONAL"
      };
      return loteriaNames[key] || key.toUpperCase().replace(/-/g, ' ');
    }).join(', ');

    appState.resumo.modalidadeColocacao = `${appState.selectedModalidadeJogo.toUpperCase().replace(/-/g, ' ')} ${appState.selectedColocacao.toUpperCase().replace(/-/g, ' ')}`;
    appState.resumo.palpitesResumo = appState.palpites;
    appState.resumo.valorTotal = appState.valor;

    document.getElementById('resumo-vendedor').textContent = appState.resumo.vendedor;
    document.getElementById('resumo-data-hora').textContent = appState.resumo.dataHora;
    document.getElementById('resumo-cotacao').textContent = appState.resumo.cotacao;
    document.getElementById('resumo-loteria-nome').textContent = appState.resumo.loteriaNome;
    document.getElementById('resumo-modalidade-colocacao').textContent = appState.resumo.modalidadeColocacao;
    document.getElementById('resumo-palpites').textContent = appState.resumo.palpitesResumo;
    document.getElementById('resumo-valor-total').textContent = `R$ ${appState.resumo.valorTotal.toFixed(2).replace('.', ',')}`;

    goToScreen('screen-finalizar');
  }

  function finalizarAposta() {
    // Aqui voc√™ enviaria os dados da aposta para o servidor
    console.log('Aposta Finalizada:', appState);
    document.getElementById('success-modal').style.display = 'flex';
  }

  function closeSuccessModal() {
    document.getElementById('success-modal').style.display = 'none';
    // Opcional: resetar o estado ou voltar para a tela inicial
    appState.screenHistory = ["screen-modalidades"];
    showScreen('screen-modalidades');
    // Resetar outros estados se necess√°rio
    appState.selectedModalidade = null;
    appState.selectedDate = null;
    appState.selectedModalidadeJogo = null;
    appState.selectedColocacao = null;
    appState.palpites = "";
    appState.valor = 0;
    appState.loterias = [];
    appState.selectedHorarios = [];
  }

  // Inicializa a primeira tela
  document.addEventListener(\'DOMContentLoaded\', () => {
    alert(\'JavaScript Carregado!\');
    showScreen(\'screen-modalidades\');
  });
</script>
{% endblock %}
