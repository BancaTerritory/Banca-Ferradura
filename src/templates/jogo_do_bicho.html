{% extends "base.html" %}

{% block title %}Jogo do Bicho - Banca Ferradura{% endblock %}

{% block content %}
<div class="lottery-app">
  <!-- Tela 1: Sele√ß√£o de Modalidades -->
  <div class="screen active" id="screen-modalidades">
    <div class="header">
      <button class="back-btn" onclick="goBack()">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1>Nova aposta</h1>
      <div class="header-icons">
        <i class="fas fa-eye"></i>
        <i class="fas fa-bars"></i>
      </div>
    </div>
    
    <div class="content">
      <div class="option-list">
        <div class="option-item" onclick="selectModalidade('tradicional')">
          <div class="option-icon green">üçÄ</div>
          <span>TRADICIONAL</span>
        </div>
        <div class="option-item" onclick="selectModalidade('tradicional-1-10')">
          <div class="option-icon green">üçÄ</div>
          <span>TRADICIONAL 1/10</span>
        </div>
        <div class="option-item" onclick="selectModalidade('uruguaia')">
          <div class="option-icon yellow">‚≠ê</div>
          <span>LOT. URUGUAIA</span>
        </div>
        <div class="option-item" onclick="selectModalidade('quininha')">
          <div class="option-icon purple">üíú</div>
          <span>QUININHA</span>
        </div>
        <div class="option-item" onclick="selectModalidade('seninha')">
          <div class="option-icon pink">üíñ</div>
          <span>SENINHA</span>
        </div>
        <div class="option-item" onclick="selectModalidade('super15')">
          <div class="option-icon orange">üß°</div>
          <span>SUPER15</span>
        </div>
        <div class="option-item" onclick="selectModalidade('repetir-pule')">
          <div class="option-icon dark-green">üíö</div>
          <span>REPETIR PULE</span>
        </div>
      </div>
    </div>
    
    <div class="bottom-nav">
      <div class="nav-item">
        <i class="fas fa-trophy"></i>
        <span>Pr√™mio</span>
      </div>
      <div class="nav-item">
        <i class="fas fa-star"></i>
        <span>Hor√≥scopo</span>
      </div>
      <div class="nav-item">
        <i class="fas fa-moon"></i>
        <span>Sonhos</span>
      </div>
      <div class="nav-item">
        <i class="fas fa-clock"></i>
        <span>Atrasados</span>
      </div>
    </div>
  </div>

  <!-- Tela 2: Sele√ß√£o de Data -->
  <div class="screen" id="screen-data">
    <div class="header">
      <button class="back-btn" onclick="goToScreen('screen-modalidades')">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1>Data</h1>
      <div class="header-icons">
        <i class="fas fa-eye"></i>
        <i class="fas fa-bars"></i>
      </div>
    </div>
    
    <div class="content">
      <div class="option-list">
        <div class="option-item" onclick="selectData('04/07/2025')">
          <div class="option-icon calendar">üìÖ</div>
          <div class="option-text">
            <span class="date">04/07/2025</span>
            <small>Hoje</small>
          </div>
        </div>
        <div class="option-item" onclick="selectData('05/07/2025')">
          <div class="option-icon calendar">üìÖ</div>
          <div class="option-text">
            <span class="date">05/07/2025</span>
            <small>S√°bado</small>
          </div>
        </div>
        <div class="option-item" onclick="selectData('06/07/2025')">
          <div class="option-icon calendar">üìÖ</div>
          <div class="option-text">
            <span class="date">06/07/2025</span>
            <small>Domingo</small>
          </div>
        </div>
        <div class="option-item" onclick="selectData('07/07/2025')">
          <div class="option-icon calendar">üìÖ</div>
          <div class="option-text">
            <span class="date">07/07/2025</span>
            <small>Segunda</small>
          </div>
        </div>
        <div class="option-item" onclick="selectData('08/07/2025')">
          <div class="option-icon calendar">üìÖ</div>
          <div class="option-text">
            <span class="date">08/07/2025</span>
            <small>Ter√ßa</small>
          </div>
        </div>
        <div class="option-item" onclick="selectData('09/07/2025')">
          <div class="option-icon calendar">üìÖ</div>
          <div class="option-text">
            <span class="date">09/07/2025</span>
            <small>Quarta</small>
          </div>
        </div>
        <div class="option-item" onclick="selectData('10/07/2025')">
          <div class="option-icon calendar">üìÖ</div>
          <div class="option-text">
            <span class="date">10/07/2025</span>
            <small>Quinta</small>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Tela 3: Modalidades de Jogo -->
  <div class="screen" id="screen-modalidades-jogo">
    <div class="header">
      <button class="back-btn" onclick="goToScreen('screen-data')">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1>Modalidade</h1>
      <div class="header-icons">
        <i class="fas fa-eye"></i>
        <i class="fas fa-bars"></i>
      </div>
    </div>
    
    <div class="content">
      <div class="search-box">
        <i class="fas fa-search"></i>
        <input type="text" placeholder="Buscar modalidade...">
      </div>
      
      <div class="option-list scrollable">
        <div class="option-item simple" onclick="selectModalidadeJogo('MILHAR INV')">MILHAR INV</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('MILHAR E CT')">MILHAR E CT</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('UNIDADE')">UNIDADE</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('DEZENA')">DEZENA</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('DEZENA ESQ')">DEZENA ESQ</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('DEZENA MEIO')">DEZENA MEIO</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('DUQUE DEZ')">DUQUE DEZ</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('DUQUE DEZ ESQ')">DUQUE DEZ ESQ</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('DUQUE DEZ MEIO')">DUQUE DEZ MEIO</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('TERNO DEZ SECO')">TERNO DEZ SECO</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('TERNO DEZ SECO ESQ')">TERNO DEZ SECO ESQ</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('TERNO DEZ SECO MEIO')">TERNO DEZ SECO MEIO</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('TERNO DEZ')">TERNO DEZ</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('TERNO DEZ ESQ')">TERNO DEZ ESQ</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('CENTENA')">CENTENA</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('CENTENA INV')">CENTENA INV</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('CENTENA 3X')">CENTENA 3X</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('CENTENA ESQUERDA')">CENTENA ESQUERDA</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('CENTENA INV ESQ')">CENTENA INV ESQ</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('MILHAR')">MILHAR</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('DUQUE GP')">DUQUE GP</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('DUQUE GP ESQ')">DUQUE GP ESQ</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('DUQUE GP MEIO')">DUQUE GP MEIO</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('TERNO GP')">TERNO GP</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('TERNO GP ESQ')">TERNO GP ESQ</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('TERNO GP MEIO')">TERNO GP MEIO</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('QUADRA GP')">QUADRA GP</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('QUADRA GP ESQ')">QUADRA GP ESQ</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('QUADRA GP MEIO')">QUADRA GP MEIO</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('QUINA GP 8/5')">QUINA GP 8/5</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('QUINA GP 8/5 ESQ')">QUINA GP 8/5 ESQ</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('QUINA GP 8/5 MEIO')">QUINA GP 8/5 MEIO</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('SENA GP 10/6')">SENA GP 10/6</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('PALPITAO')">PALPITAO</div>
        <div class="option-item simple" onclick="selectModalidadeJogo('SENA GP 10/6 ESQ')">SENA GP 10/6 ESQ</div>
      </div>
    </div>
  </div>

  <!-- Tela 4: Coloca√ß√£o -->
  <div class="screen" id="screen-colocacao">
    <div class="header">
      <button class="back-btn" onclick="goToScreen('screen-modalidades-jogo')">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1>Coloca√ß√£o</h1>
      <div class="header-icons">
        <i class="fas fa-eye"></i>
        <i class="fas fa-bars"></i>
      </div>
    </div>
    
    <div class="content">
      <div class="search-box">
        <i class="fas fa-search"></i>
        <input type="text" placeholder="Buscar coloca√ß√£o...">
      </div>
      
      <div class="option-list">
        <div class="option-item with-tag" onclick="selectColocacao('1 PR√äMIO')">
          <span>1 PR√äMIO</span>
          <span class="tag green">Maior pr√™mio</span>
        </div>
        <div class="option-item with-tag" onclick="selectColocacao('1/5 PR√äMIO')">
          <span>1/5 PR√äMIO</span>
          <span class="tag green">5x mais chances</span>
        </div>
        <div class="option-item simple" onclick="selectColocacao('1 E 1/5 PR√äMIO')">1 E 1/5 PR√äMIO</div>
        <div class="option-item simple" onclick="selectColocacao('2 PR√äMIO')">2 PR√äMIO</div>
        <div class="option-item simple" onclick="selectColocacao('3 PR√äMIO')">3 PR√äMIO</div>
        <div class="option-item simple" onclick="selectColocacao('4 PR√äMIO')">4 PR√äMIO</div>
        <div class="option-item simple" onclick="selectColocacao('5 PR√äMIO')">5 PR√äMIO</div>
        <div class="option-item simple" onclick="selectColocacao('6 PR√äMIO')">6 PR√äMIO</div>
        <div class="option-item simple" onclick="selectColocacao('1/2 PR√äMIO')">1/2 PR√äMIO</div>
        <div class="option-item simple" onclick="selectColocacao('1/3 PR√äMIO')">1/3 PR√äMIO</div>
      </div>
    </div>
  </div>

  <!-- Tela 5: Valor/Aposta -->
  <div class="screen" id="screen-valor">
    <div class="header">
      <button class="back-btn" onclick="goToScreen('screen-colocacao')">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1>Valor</h1>
      <div class="header-icons">
        <i class="fas fa-eye"></i>
        <i class="fas fa-bars"></i>
      </div>
    </div>
    
    <div class="content">
      <div class="bet-info">
        <div class="bet-header">
          <span id="modalidade-selected">MILHAR E CT</span>
          <span id="colocacao-selected">1/5 PR√äMIO</span>
        </div>
        <div class="bet-subheader">
          <span>Palpites 1</span>
          <span id="data-selected">Hoje 04/07/2025</span>
        </div>
      </div>
      
      <div class="bet-input-section">
        <label>Meus Palpites:</label>
        <input type="text" id="palpites-input" placeholder="Digite os n√∫meros" maxlength="4">
      </div>
      
      <div class="value-section">
        <div class="value-input">
          <input type="text" id="valor-input" placeholder="R$0,00" value="R$20,00">
          <button class="clear-btn" onclick="clearValue()">Limpar</button>
        </div>
        
        <div class="quick-values">
          <button class="value-btn popular" onclick="addValue(5)">
            <span class="fire-icon">üî•</span>
            <span>Popular</span>
            +5
          </button>
          <button class="value-btn" onclick="addValue(20)">+20</button>
          <button class="value-btn" onclick="addValue(50)">+50</button>
          <button class="value-btn" onclick="addValue(100)">+100</button>
        </div>
      </div>
      
      <div class="action-buttons">
        <button class="action-btn todos" onclick="selectAction('todos')">Todos</button>
        <button class="action-btn cada" onclick="selectAction('cada')">Cada</button>
      </div>
    </div>
  </div>

  <!-- Tela 6: Hor√°rios -->
  <div class="screen" id="screen-horarios">
    <div class="header">
      <button class="back-btn" onclick="goToScreen('screen-valor')">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1>Loterias</h1>
      <div class="header-icons">
        <i class="fas fa-eye"></i>
        <i class="fas fa-bars"></i>
      </div>
    </div>
    
    <div class="content">
      <div class="option-list">
        <div class="option-item with-counter" onclick="toggleLoteria('RIO/FEDERAL')">
          <span>RIO/FEDERAL</span>
          <span class="counter" id="counter-rio">0</span>
        </div>
        <div class="option-item with-counter" onclick="toggleLoteria('MALUQUINHA')">
          <span>MALUQUINHA</span>
          <span class="counter" id="counter-maluquinha">0</span>
        </div>
        <div class="option-item with-counter" onclick="toggleLoteria('LOTECE/LOTEP')">
          <span>LOTECE/LOTEP</span>
          <span class="counter" id="counter-lotece">0</span>
        </div>
        <div class="option-item with-counter" onclick="toggleLoteria('SAO-PAULO')">
          <span>SAO-PAULO</span>
          <span class="counter" id="counter-saopaulo">0</span>
        </div>
        <div class="option-item with-counter" onclick="toggleLoteria('CAPITAL')">
          <span>CAPITAL</span>
          <span class="counter" id="counter-capital">0</span>
        </div>
        <div class="option-item with-counter" onclick="toggleLoteria('LOOK/GOIAS')">
          <span>LOOK/GOIAS</span>
          <span class="counter" id="counter-look">0</span>
        </div>
        <div class="option-item with-counter" onclick="toggleLoteria('SORTE')">
          <span>SORTE</span>
          <span class="counter" id="counter-sorte">0</span>
        </div>
        <div class="option-item with-counter" onclick="toggleLoteria('BAHIA')">
          <span>BAHIA</span>
          <span class="counter" id="counter-bahia">0</span>
        </div>
        <div class="option-item with-counter" onclick="toggleLoteria('MINAS GERAIS')">
          <span>MINAS GERAIS</span>
          <span class="counter" id="counter-minas">0</span>
        </div>
        <div class="option-item with-counter" onclick="toggleLoteria('NACIONAL')">
          <span>NACIONAL</span>
          <span class="counter" id="counter-nacional">0</span>
        </div>
      </div>
      
      <button class="advance-btn" onclick="goToScreen('screen-finalizar')">Avan√ßar</button>
    </div>
  </div>

  <!-- Tela 7: Finalizar -->
  <div class="screen" id="screen-finalizar">
    <div class="header">
      <button class="back-btn" onclick="goToScreen('screen-horarios')">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1>Finalizar</h1>
      <div class="header-icons">
        <i class="fas fa-eye"></i>
        <i class="fas fa-bars"></i>
      </div>
    </div>
    
    <div class="content">
      <div class="vendor-info">
        <div class="vendor-header">
          <i class="fas fa-crown"></i>
          <div>
            <span>VENDEDOR: 620500</span>
            <small id="current-datetime">04/07/25 12:11:16</small>
          </div>
        </div>
      </div>
      
      <div class="bet-summary">
        <h3>RESUMO DA APOSTA</h3>
        <div class="summary-line">
          <span>VALE</span>
          <span id="summary-date">04/07/2025</span>
        </div>
        <div class="summary-line">
          <span>COTACAO</span>
          <span>8M/800C</span>
        </div>
        <div class="summary-line">
          <span>LT PT RIO 14HS</span>
        </div>
        <div class="summary-line">
          <span id="summary-modalidade">MILHAR E CT 1/5 PR√äMIO</span>
        </div>
        <div class="summary-line">
          <span id="summary-numero">5068</span>
        </div>
        <div class="summary-line">
          <span>> <span id="summary-valor">10,00</span> / CADA</span>
        </div>
        <div class="summary-line">
          <span>MILHAR BRINDE! 1 PREMIO</span>
        </div>
        <div class="summary-line">
          <span id="summary-numero-brinde">5068</span>
        </div>
      </div>
      
      <div class="total-section">
        <div class="total-line">
          <span>TOTAL JOGO:</span>
          <span id="total-jogo">R$ 10,00</span>
        </div>
        <div class="total-line final">
          <span>A PAGAR</span>
          <span id="total-pagar">R$ 10,00</span>
        </div>
      </div>
      
      <div class="final-buttons">
        <button class="final-btn back" onclick="goToScreen('screen-horarios')">Voltar as apostas</button>
        <button class="final-btn confirm" onclick="finalizarAposta()">Finalizar</button>
      </div>
    </div>
  </div>

  <!-- Tela 8: Sucesso -->
  <div class="screen" id="screen-sucesso">
    <div class="header success">
      <button class="back-btn" onclick="goToScreen('screen-modalidades')">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1>Sucesso</h1>
      <div class="header-icons">
        <i class="fas fa-eye"></i>
        <i class="fas fa-bars"></i>
      </div>
    </div>
    
    <div class="content">
      <!-- Fundo mostra o recibo -->
      <div class="receipt-background">
        <div class="vendor-info">
          <div class="vendor-header">
            <i class="fas fa-crown"></i>
            <div>
              <span>VENDEDOR: 620500</span>
              <small>04/07/25 12:11:16</small>
            </div>
          </div>
        </div>
        
        <div class="bet-summary">
          <h3>RECIBO DA APOSTA</h3>
          <!-- Conte√∫do do recibo igual √† tela anterior -->
        </div>
      </div>
      
      <!-- Modal de sucesso -->
      <div class="success-modal">
        <div class="success-icon">
          <i class="fas fa-check-circle"></i>
        </div>
        <p>Aposta Realizada com sucesso</p>
        <button class="modal-btn" onclick="closeSuccessModal()">Fechar</button>
      </div>
      
      <div class="bottom-actions">
        <button class="action-btn share">
          <i class="fas fa-share"></i>
          Compartilhar
        </button>
        <button class="action-btn new-bet" onclick="novaAposta()">Nova aposta</button>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block styles %}
<style>
/* Reset e base */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.lottery-app {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: #f5f5f5;
  min-height: 100vh;
  position: relative;
}

/* Telas */
.screen {
  display: none;
  flex-direction: column;
  min-height: 100vh;
  background: #f5f5f5;
}

.screen.active {
  display: flex;
}

/* Header */
.header {
  background: #6c757d;
  color: white;
  padding: 15px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: relative;
}

.header.success {
  background: #28a745;
}

.back-btn {
  background: none;
  border: none;
  color: white;
  font-size: 18px;
  cursor: pointer;
  padding: 5px;
}

.header h1 {
  font-size: 18px;
  font-weight: 500;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
}

.header-icons {
  display: flex;
  gap: 15px;
}

.header-icons i {
  font-size: 16px;
  cursor: pointer;
}

/* Content */
.content {
  flex: 1;
  padding: 0;
  background: white;
}

/* Option List */
.option-list {
  display: flex;
  flex-direction: column;
}

.option-list.scrollable {
  max-height: calc(100vh - 120px);
  overflow-y: auto;
}

.option-item {
  display: flex;
  align-items: center;
  padding: 15px 20px;
  border-bottom: 1px solid #e9ecef;
  cursor: pointer;
  transition: background-color 0.2s;
}

.option-item:hover {
  background: #f8f9fa;
}

.option-item:active {
  background: #e9ecef;
}

.option-icon {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 15px;
  font-size: 20px;
}

.option-icon.green { background: #28a745; }
.option-icon.yellow { background: #ffc107; }
.option-icon.purple { background: #6f42c1; }
.option-icon.pink { background: #e83e8c; }
.option-icon.orange { background: #fd7e14; }
.option-icon.dark-green { background: #20c997; }
.option-icon.calendar { background: #6c757d; }

.option-text {
  display: flex;
  flex-direction: column;
}

.option-text .date {
  font-weight: 500;
  color: #212529;
}

.option-text small {
  color: #6c757d;
  font-size: 12px;
}

.option-item.simple {
  font-weight: 500;
  color: #212529;
}

.option-item.with-tag {
  justify-content: space-between;
}

.tag {
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
}

.tag.green {
  background: #d4edda;
  color: #155724;
}

.option-item.with-counter {
  justify-content: space-between;
}

.counter {
  background: #6c757d;
  color: white;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: bold;
}

/* Search Box */
.search-box {
  display: flex;
  align-items: center;
  padding: 15px 20px;
  border-bottom: 1px solid #e9ecef;
  background: #f8f9fa;
}

.search-box i {
  color: #6c757d;
  margin-right: 10px;
}

.search-box input {
  border: none;
  background: none;
  outline: none;
  flex: 1;
  font-size: 14px;
  color: #6c757d;
}

/* Bottom Navigation */
.bottom-nav {
  display: flex;
  background: white;
  border-top: 1px solid #e9ecef;
  padding: 10px 0;
}

.nav-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 8px;
  cursor: pointer;
  color: #6c757d;
}

.nav-item i {
  font-size: 20px;
  margin-bottom: 4px;
}

.nav-item span {
  font-size: 11px;
}

/* Bet Info */
.bet-info {
  padding: 20px;
  background: white;
  border-bottom: 1px solid #e9ecef;
}

.bet-header {
  display: flex;
  justify-content: space-between;
  font-weight: 600;
  color: #212529;
  margin-bottom: 5px;
}

.bet-subheader {
  display: flex;
  justify-content: space-between;
  font-size: 12px;
  color: #6c757d;
}

/* Bet Input Section */
.bet-input-section {
  padding: 20px;
  border-bottom: 1px solid #e9ecef;
}

.bet-input-section label {
  display: block;
  margin-bottom: 10px;
  font-weight: 500;
  color: #212529;
}

.bet-input-section input {
  width: 100%;
  padding: 12px;
  border: 1px solid #ced4da;
  border-radius: 6px;
  font-size: 16px;
  background: #f8f9fa;
}

/* Value Section */
.value-section {
  padding: 20px;
  border-bottom: 1px solid #e9ecef;
}

.value-input {
  display: flex;
  align-items: center;
  margin-bottom: 15px;
}

.value-input input {
  flex: 1;
  padding: 12px;
  border: 1px solid #ced4da;
  border-radius: 6px;
  font-size: 16px;
  font-weight: 600;
  margin-right: 10px;
}

.clear-btn {
  background: none;
  border: none;
  color: #6c757d;
  cursor: pointer;
  font-size: 14px;
}

.quick-values {
  display: flex;
  gap: 10px;
}

.value-btn {
  flex: 1;
  padding: 10px;
  border: 1px solid #ced4da;
  border-radius: 6px;
  background: white;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.2s;
}

.value-btn:hover {
  background: #f8f9fa;
}

.value-btn.popular {
  background: #fff3cd;
  border-color: #ffc107;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
}

.fire-icon {
  font-size: 12px;
}

.value-btn.popular span:nth-child(2) {
  font-size: 10px;
  color: #856404;
}

/* Action Buttons */
.action-buttons {
  padding: 20px;
  display: flex;
  gap: 15px;
}

.action-btn {
  flex: 1;
  padding: 15px;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.action-btn.todos {
  background: #8d6e63;
  color: white;
}

.action-btn.cada {
  background: #8d6e63;
  color: white;
}

.action-btn:hover {
  opacity: 0.9;
  transform: translateY(-1px);
}

/* Advance Button */
.advance-btn {
  margin: 20px;
  padding: 15px;
  background: #8d6e63;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.advance-btn:hover {
  opacity: 0.9;
  transform: translateY(-1px);
}

/* Vendor Info */
.vendor-info {
  padding: 20px;
  background: #343a40;
  color: white;
}

.vendor-header {
  display: flex;
  align-items: center;
  gap: 10px;
}

.vendor-header i {
  color: #ffc107;
  font-size: 20px;
}

.vendor-header div {
  display: flex;
  flex-direction: column;
}

.vendor-header span {
  font-weight: 600;
}

.vendor-header small {
  font-size: 12px;
  opacity: 0.8;
}

/* Bet Summary */
.bet-summary {
  padding: 20px;
  background: white;
}

.bet-summary h3 {
  text-align: center;
  margin-bottom: 20px;
  color: #212529;
  font-size: 14px;
  font-weight: 600;
}

.summary-line {
  display: flex;
  justify-content: space-between;
  padding: 8px 0;
  border-bottom: 1px dotted #dee2e6;
  font-size: 14px;
}

.summary-line:last-child {
  border-bottom: none;
}

/* Total Section */
.total-section {
  padding: 20px;
  background: white;
  border-top: 1px solid #e9ecef;
}

.total-line {
  display: flex;
  justify-content: space-between;
  padding: 8px 0;
  font-size: 14px;
}

.total-line.final {
  font-weight: 600;
  font-size: 16px;
  color: #212529;
  border-top: 1px solid #dee2e6;
  padding-top: 15px;
  margin-top: 10px;
}

/* Final Buttons */
.final-buttons {
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.final-btn {
  padding: 15px;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.final-btn.back {
  background: #8d6e63;
  color: white;
}

.final-btn.confirm {
  background: #6c757d;
  color: white;
}

.final-btn:hover {
  opacity: 0.9;
  transform: translateY(-1px);
}

/* Success Screen */
.receipt-background {
  opacity: 0.3;
  pointer-events: none;
}

.success-modal {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: white;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  text-align: center;
  z-index: 1000;
  min-width: 280px;
}

.success-icon {
  color: #28a745;
  font-size: 48px;
  margin-bottom: 15px;
}

.success-modal p {
  margin-bottom: 20px;
  color: #212529;
  font-weight: 500;
}

.modal-btn {
  background: #8d6e63;
  color: white;
  border: none;
  padding: 12px 30px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.modal-btn:hover {
  opacity: 0.9;
}

/* Bottom Actions */
.bottom-actions {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  background: white;
  border-top: 1px solid #e9ecef;
  z-index: 999;
}

.bottom-actions .action-btn {
  flex: 1;
  padding: 15px;
  border: none;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.bottom-actions .action-btn.share {
  background: #28a745;
  color: white;
}

.bottom-actions .action-btn.new-bet {
  background: #6c757d;
  color: white;
}

/* Responsive */
@media (max-width: 480px) {
  .header h1 {
    font-size: 16px;
  }
  
  .option-item {
    padding: 12px 15px;
  }
  
  .bet-info, .bet-input-section, .value-section {
    padding: 15px;
  }
}
</style>
{% endblock %}

{% block scripts %}
<script>
// Estado da aplica√ß√£o
let appState = {
  modalidade: '',
  data: '',
  modalidadeJogo: '',
  colocacao: '',
  palpites: '',
  valor: 0,
  loterias: [],
  currentScreen: 'screen-modalidades'
};

// Navega√ß√£o entre telas
function goToScreen(screenId) {
  document.querySelectorAll('.screen').forEach(screen => {
    screen.classList.remove('active');
  });
  document.getElementById(screenId).classList.add('active');
  appState.currentScreen = screenId;
}

function goBack() {
  // Volta para a p√°gina anterior ou dashboard
  window.location.href = "{{ url_for('lottery_blueprint_v1.index') }}";
}

// Fun√ß√µes de sele√ß√£o
function selectModalidade(modalidade) {
  appState.modalidade = modalidade;
  goToScreen('screen-data');
}

function selectData(data) {
  appState.data = data;
  document.getElementById('data-selected').textContent = data === '04/07/2025' ? 'Hoje 04/07/2025' : data;
  goToScreen('screen-modalidades-jogo');
}

function selectModalidadeJogo(modalidade) {
  appState.modalidadeJogo = modalidade;
  document.getElementById('modalidade-selected').textContent = modalidade;
  goToScreen('screen-colocacao');
}

function selectColocacao(colocacao) {
  appState.colocacao = colocacao;
  document.getElementById('colocacao-selected').textContent = colocacao;
  goToScreen('screen-valor');
}

function selectAction(action) {
  // L√≥gica para "Todos" ou "Cada"
  goToScreen('screen-horarios');
}

// Fun√ß√µes de valor
function addValue(amount) {
  const valorInput = document.getElementById('valor-input');
  let currentValue = parseFloat(valorInput.value.replace('R$', '').replace(',', '.')) || 0;
  currentValue += amount;
  valorInput.value = `R$${currentValue.toFixed(2).replace('.', ',')}`;
  appState.valor = currentValue;
}

function clearValue() {
  document.getElementById('valor-input').value = 'R$0,00';
  appState.valor = 0;
}

// Fun√ß√µes de loteria
function toggleLoteria(loteria) {
  const counterId = 'counter-' + loteria.toLowerCase().replace(/[^a-z]/g, '');
  const counter = document.getElementById(counterId);
  
  if (appState.loterias.includes(loteria)) {
    appState.loterias = appState.loterias.filter(l => l !== loteria);
    if (counter) counter.textContent = '0';
  } else {
    appState.loterias.push(loteria);
    if (counter) counter.textContent = '1';
  }
}

// Finalizar aposta
function finalizarAposta() {
  // Atualizar resumo
  updateSummary();
  goToScreen('screen-sucesso');
}

function updateSummary() {
  document.getElementById('summary-date').textContent = appState.data;
  document.getElementById('summary-modalidade').textContent = `${appState.modalidadeJogo} ${appState.colocacao}`;
  document.getElementById('summary-numero').textContent = appState.palpites || '5068';
  document.getElementById('summary-valor').textContent = appState.valor.toFixed(2).replace('.', ',');
  document.getElementById('summary-numero-brinde').textContent = appState.palpites || '5068';
  document.getElementById('total-jogo').textContent = `R$ ${appState.valor.toFixed(2).replace('.', ',')}`;
  document.getElementById('total-pagar').textContent = `R$ ${appState.valor.toFixed(2).replace('.', ',')}`;
}

// Fun√ß√µes de sucesso
function closeSuccessModal() {
  document.querySelector('.success-modal').style.display = 'none';
}

function novaAposta() {
  // Reset do estado
  appState = {
    modalidade: '',
    data: '',
    modalidadeJogo: '',
    colocacao: '',
    palpites: '',
    valor: 0,
    loterias: [],
    currentScreen: 'screen-modalidades'
  };
  goToScreen('screen-modalidades');
}

// Event listeners
document.addEventListener('DOMContentLoaded', function() {
  // Input de palpites
  const palpitesInput = document.getElementById('palpites-input');
  if (palpitesInput) {
    palpitesInput.addEventListener('input', function() {
      appState.palpites = this.value;
    });
  }
  
  // Atualizar data/hora atual
  const now = new Date();
  const dateTimeString = now.toLocaleDateString('pt-BR').slice(0, 8) + ' ' + 
                        now.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
  const currentDateTimeElement = document.getElementById('current-datetime');
  if (currentDateTimeElement) {
    currentDateTimeElement.textContent = dateTimeString;
  }
});
</script>
{% endblock %}
